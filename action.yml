name: 'GitHub issues form parser'
description: 'Parses a GitHub issue form body and outputs a JSON representation.'
# inputs:
#   who-to-greet:  # id of input
#     description: 'Who to greet'
#     required: true
#     default: 'World'
# outputs:
#   time: # id of output
#     description: 'The time we greeted you'
runs:
  using: 'composite'
  steps:
    - name: docker build
      id: build
      shell: pwsh
      run: |
        $imageTag = gh-issues-parser:latest
        docker build -t $imageTag -f /GitHubIssueFormsParser/src/GitHubIssuesParserCli/Dockerfile ./GitHubIssueFormsParser
        Write-Host "::set-output name=image-tag::$imageTag"
    - name: docker run
      shell: pwsh
      run: |
        $imageTag = '${{ steps.build.outputs.image-tag }}'
        # docker run --rm -v ${{ github.workspace }}:/github/workspace --workdir /github/workspace $imageTag
        docker run --rm $imageTag
